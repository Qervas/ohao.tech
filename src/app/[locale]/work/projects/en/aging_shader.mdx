---
title: "Real-time Physical Material Aging and Weathering Simulation"
publishedAt: "2025-01-27"
status: "completed"
featured: true
summary: "A real-time graphics project demonstrating advanced material aging and weathering effects using OpenGL compute shaders. Features dynamic rust formation, paint degradation, and environmental interactions with physically-based rendering."
images:
  - "/images/projects/aging_shader/paint_5.png"
  - "/images/projects/aging_shader/paint_4.png"
  - "/images/projects/aging_shader/paint_3.png"
  - "/images/projects/aging_shader/paint_2.png"
  - "/images/projects/aging_shader/paint_new.png"
  - "/images/projects/aging_shader/rust_0.png"
  - "/images/projects/aging_shader/rust_25.png"
  - "/images/projects/aging_shader/rust_50.png"
  - "/images/projects/aging_shader/rust_75.png"
  - "/images/projects/aging_shader/rust_100.png"
  - "/images/projects/aging_shader/puddle_dry.png"
  - "/images/projects/aging_shader/puddle_partial.png"
  - "/images/projects/aging_shader/puddle_wet.png"
  - "/images/projects/aging_shader/sky_0.png"
  - "/images/projects/aging_shader/sky_1.png"
  - "/images/projects/aging_shader/sky_2.png"
team:
  - name: "Shaoxuan Yin"
    role: "Graphics Engineer"
    avatar: "/images/me_snap.png"
    linkedIn: "https://www.linkedin.com/in/shaoxuan-yin-021548170/"
---
## Github Repo

<div style={{ display: 'flex', gap: '1rem', marginBottom: '2rem' }}>
  <Button
    variant="primary"
    size="l"
    href="https://github.com/Qervas/aging_shader"
    prefixIcon="github"
    label="Aging Shader"
  />
</div>

## Overview

Initially planned as part of my [Vulkan engine project](/work/ohao_engine), this real-time material aging simulation was eventually implemented using OpenGL compute shaders due to development challenges. The project demonstrates sophisticated material aging effects including rust formation, paint degradation, and environmental weathering.

<Carousel
  images={[
    {
      src: "/images/projects/aging_shader/rust_0.png",
      alt: "Initial state of metal sphere"
    },
    {
      src: "/images/projects/aging_shader/rust_25.png",
      alt: "25% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_50.png",
      alt: "50% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_75.png",
      alt: "75% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_100.png",
      alt: "Fully rusted sphere"
    },
    {
      src: "/images/projects/aging_shader/paint_new.png",
      alt: "Fresh painting"
    },
    {
      src: "/images/projects/aging_shader/paint_2.png",
      alt: "Early deterioration"
    },
    {
      src: "/images/projects/aging_shader/paint_3.png",
      alt: "Progressive aging"
    },
    {
      src: "/images/projects/aging_shader/paint_4.png",
      alt: "Advanced deterioration"
    },
    {
      src: "/images/projects/aging_shader/paint_5.png",
      alt: "Severe aging and deterioration"
    },
    {
      src: "/images/projects/aging_shader/puddle_dry.png",
      alt: "Dry terrain"
    },
    {
      src: "/images/projects/aging_shader/puddle_partial.png",
      alt: "Partial puddle formation"
    },
    {
      src: "/images/projects/aging_shader/puddle_wet.png",
      alt: "Full puddle formation"
    },
    {
      src: "/images/projects/aging_shader/sky_0.png",
      alt: "Clear night sky"
    },
    {
      src: "/images/projects/aging_shader/sky_1.png",
      alt: "Partial cloud coverage"
    },
    {
      src: "/images/projects/aging_shader/sky_2.png",
      alt: "Heavy cloud coverage"
    }
  ]}
  aspectRatio="16/9"
  indicator="thumbnail"
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 75vw, 66vw"
/>


## Technical Documentation ðŸ“‘

<Flex direction="column" gap="16" background="surface" padding="24" radius="l" border="neutral-medium" borderStyle="solid-1">
  <Flex gap="12" alignItems="center">
    <Icon name="document" size="xl" onBackground="brand-strong"/>
    <Text variant="heading-strong-l">
      Documentation
    </Text>
  </Flex>

  {/* Technical Report Section */}
  <Flex
    background="brand-weak"
    padding="24"
    radius="m"
    direction="column"
    gap="16"
    style={{
      boxShadow: 'var(--shadow-m)',
    }}
  >
    <Flex direction="column" gap="12">
      <Text variant="heading-strong-m">
        Technical Report: Material Aging and Weathering Simulation
      </Text>

      <Flex gap="8" alignItems="center">
        <Icon name="calendar" size="s" onBackground="neutral-medium"/>
        <Text variant="body-default-s" onBackground="neutral-medium">
          January 27th 2025
        </Text>
        <Icon name="document" size="s" onBackground="neutral-medium"/>
        <Text variant="body-default-s" onBackground="neutral-medium">
          27 pages
        </Text>
      </Flex>
    </Flex>

    <Button
      variant="primary"
      size="l"
      href="/pdf/aging_shader_report.pdf"
      prefixIcon="document"
      label="View Technical Report"
      style={{
        animation: 'pulse 2s infinite',
      }}
    />

    <div id="technical-report-pdf" style={{ marginTop: 'var(--static-space-24)' }}>
      <PDF url="/pdf/aging_shader_report.pdf" width="100%" height="600px" />
    </div>
  </Flex>

  {/* Presentation Slides Section */}
  <Flex
    background="brand-weak"
    padding="24"
    radius="m"
    direction="column"
    gap="16"
    style={{
      boxShadow: 'var(--shadow-m)',
    }}
  >
    <Flex direction="column" gap="12">
      <Text variant="heading-strong-m">
        Presentation Slides: Project Overview
      </Text>

      <Flex gap="8" alignItems="center">
        <Icon name="calendar" size="s" onBackground="neutral-medium"/>
        <Text variant="body-default-s" onBackground="neutral-medium">
          January 17th 2025
        </Text>
        <Icon name="presentation" size="s" onBackground="neutral-medium"/>
        <Text variant="body-default-s" onBackground="neutral-medium">
          20 slides
        </Text>
      </Flex>
    </Flex>

    <Button
      variant="secondary"
      size="l"
      href="/pdf/aging_shader_slides.pdf"
      prefixIcon="presentation"
      label="View Presentation Slides"
      style={{
        animation: 'pulse 2s infinite',
      }}
    />

    <div id="presentation-slides-pdf" style={{ marginTop: 'var(--static-space-24)' }}>
      <PDF url="/pdf/aging_shader_slides.pdf" width="100%" height="600px" />
    </div>
  </Flex>

  <Flex
    gap="8"
    marginTop="8"
    padding="12"
    radius="m"
    background="info-weak"
    alignItems="center"
    justifyContent="center"
  >
    <Icon name="info" size="s" onBackground="info-strong"/>
    <Text variant="body-default-s" onBackground="info-strong">
      This documentation includes both the detailed technical report and the presentation slides from TNM084
    </Text>
  </Flex>
</Flex>

<style>
{`
  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.02);
    }
    100% {
      transform: scale(1);
    }
  }
`}
</style>

## Key Features

### Rust Formation Process
- Multi-scale noise functions for realistic rust patterns
- Edge-aware weathering effects
- Moisture-influenced oxidation
- Dynamic normal map generation

<Carousel
  images={[
    {
      src: "/images/projects/aging_shader/rust_0.png",
      alt: "Initial state of metal sphere"
    },
    {
      src: "/images/projects/aging_shader/rust_25.png",
      alt: "25% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_50.png",
      alt: "50% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_75.png",
      alt: "75% rust formation"
    },
    {
      src: "/images/projects/aging_shader/rust_100.png",
      alt: "Fully rusted sphere"
    }
  ]}
  aspectRatio="16/9"
  indicator="thumbnail"
/>

### Paint Aging System
- Progressive color fading and yellowing
- Realistic crack formation
- Dynamic paint peeling effects
- Material property evolution

<Carousel
  images={[
  {
    src: "/images/projects/aging_shader/paint_new.png",
    alt: "Fresh painting"
  },
  {
    src: "/images/projects/aging_shader/paint_2.png",
    alt: "Early deterioration"
  },
  {
    src: "/images/projects/aging_shader/paint_3.png",
    alt: "Progressive aging"
  },
  {
    src: "/images/projects/aging_shader/paint_4.png",
    alt: "Advanced deterioration"
  },
  {
    src: "/images/projects/aging_shader/paint_5.png",
    alt: "Severe aging and deterioration"
  },
  ]}
  aspectRatio="16/9"
  indicator="thumbnail"
/>


### Dynamic Weather System

<Carousel
  images={[
    {
      src: "/images/projects/aging_shader/sky_0.png",
      alt: "Clear night sky"
    },
    {
      src: "/images/projects/aging_shader/sky_1.png",
      alt: "Partial cloud coverage"
    },
    {
      src: "/images/projects/aging_shader/sky_2.png",
      alt: "Heavy cloud coverage"
    }
  ]}
  aspectRatio="16/9"
  indicator="thumbnail"
/>

- Procedural cloud generation
- Dynamic lighting conditions
- Moisture-based environmental effects
- Real-time weather transitions

### Ground System & Puddle Formation

<Carousel
  images={[
    {
      src: "/images/projects/aging_shader/puddle_dry.png",
      alt: "Dry terrain"
    },
    {
      src: "/images/projects/aging_shader/puddle_partial.png",
      alt: "Partial puddle formation"
    },
    {
      src: "/images/projects/aging_shader/puddle_wet.png",
      alt: "Full puddle formation"
    }
  ]}
  aspectRatio="16/9"
  indicator="thumbnail"
/>

- Procedural crater generation
- Dynamic puddle system
- Real-time ripple effects
- Weather-responsive surface properties

## Technical Implementation

<Grid columns="1" gap="24">
  <Flex direction="column" background="surface" padding="32" radius="l" border="neutral-medium" borderStyle="solid-1">
    <Heading variant="heading-strong-l" marginBottom="24">System Architecture</Heading>
    <CodeBlock
      codeInstances={[
        {
          language: "mermaid",
          code: `graph TB
    classDef default fill:secondaryColor,stroke:secondaryBorderColor,color:secondaryTextColor
    classDef highlight fill:primaryColor,stroke:primaryBorderColor,color:primaryTextColor

    A[Compute Shader] --> B[Material System]
    A --> C[Physics System]
    A --> D[Weather System]

    B --> B1[Rust Formation]
    B --> B2[Paint Aging]
    B --> B3[Surface Properties]

    C --> C1[Object Dynamics]
    C --> C2[Collision Response]
    C --> C3[Environmental Forces]

    D --> D1[Cloud Generation]
    D --> D2[Moisture System]
    D --> D3[Lighting Effects]

    class A highlight`
        }
      ]}
      style={{ minHeight: "600px" }}
    />
  </Flex>
</Grid>

## Development Journey

The project began as part of my larger Vulkan engine initiative ([OHAO Engine](/work/ohao_engine)), but challenges with memory management and buffer synchronization led to a strategic pivot. Switching to OpenGL Compute Shaders proved beneficial, allowing faster development cycles while maintaining the core vision of real-time material aging simulation.

## Controls

- **WASD**: Movement
- **Mouse**: Look around
- **Space**: Jump
- **R/F**: Adjust rust level and age
- **M/N**: Control moisture level

<Comment
  author="Note"
  content={
    <>
      This project was developed as part of the TNM084 course at LinkÃ¶ping University. Special thanks to BjÃ¶rn for the compute shader suggestion and Ingemar for guidance during the development pivot.
    </>
  }
/>
